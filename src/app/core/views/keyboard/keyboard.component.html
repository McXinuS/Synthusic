<div class="wrapper">
  <div class="container-title"
       (mouseup)="onMiniChange($event)">
    <h4>Keyboard
      <span class="title-arrow glyphicon"
            [class.glyphicon-collapse-up]="miniMode"
            [class.glyphicon-collapse-down]="!miniMode"></span>
    </h4>
  </div>

  <div id="keyboard" [class.mini]="miniMode">

    <div id="keyboard-up-collapse">
      <div id="keyboard-up" [style.width.px]="keyboardKeys.scrollWidth">
        <div class="well settings">
          <label>Instrument</label>
          <div class="button-group">
            <select [(ngModel)]="activeInstrument"
                    (change)="onInstrumentChange()">
              <option *ngFor="let instrument of instruments" [ngValue]="instrument">{{instrument.name}}</option>
            </select>
            <div class="buttons">
              <div class="btn-square glyphicon-rotating" (click)="openSettings()">
                <span class="glyphicon glyphicon-cog"></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div #keyboardKeys id="keyboard-keys"
         (touchstart)="onTouchStart($event)" (touchmove)="onTouchMove($event)"
         (touchend)="onTouchEnd($event)" (touchcancel)="onTouchCancel($event)">
      <app-keyboard-key *ngFor="let note of notes"
                        [attr.data-note-id]="note.id"
                        [note]="note"
                        [highlighted]="highlights[note.id]"
                        [selected]="selections[note.id]"
                        (keyStateUpdated)="onKeyStateUpdated($event)"></app-keyboard-key>
    </div>

  </div>
</div>
