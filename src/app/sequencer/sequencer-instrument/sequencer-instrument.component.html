<div class="wrapper" [class.collapsed]="isCollapsed">
  
  <div class="instrument">
    
    <div *ngIf="!isCollapsed">
      <div>{{instrument.name}}</div>
      <div class="btn-square glyphicon-rotating" (click)="openSettings()">
        <span class="glyphicon glyphicon-cog"></span>
      </div>
      <div class="btn-square btn-collapse" (click)="toggleCollapse()">
        <span class="glyphicon glyphicon-collapse-up"></span>
      </div>
    </div>
    
    <div *ngIf="isCollapsed" class="expand">
      <div class="center-hor" (click)="toggleCollapse()">Expand</div>
    </div>
  </div>
  
  <div class="staff">
    <div app-bar *ngFor="let bar of bars"
         [state]="bar"
         [notes]="notes.get(bar.index)"
         class="bar"
         [style.width.px]="bar.width"></div>
  </div>

</div>
